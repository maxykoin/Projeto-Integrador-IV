{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<main class="flex-grow w-full px-4 sm:px-6 lg:px-8 py-8" role="main" aria-label="Dashboard de Pedidos">
    {# Alerta de estoque baixo removido, pois a lógica de estoque não existe mais #}
    {# <section aria-live="assertive" role="alert" ...>...</section> #}

    {# Título principal do dashboard #}
    <h1 class="text-center text-4xl font-extrabold mb-12 tracking-tight dashboard-title text-gray-900">Dashboard de Pedidos</h1>

    <div class="border-t border-gray-300 mb-12 w-full max-w-6xl mx-auto"></div>

    {# Indicadores gerais do sistema #}
    <section aria-label="Indicadores gerais do sistema" class="max-w-6xl mx-auto mb-12 grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-8 flex flex-col items-center justify-center min-w-[280px] hover-scale-105 active-scale-95" data-tooltip="Total de todos os pedidos já registrados">
            <p class="text-sm uppercase tracking-wide font-semibold mb-3 dashboard-card-label text-gray-700">Total de Pedidos</p>
            <p class="text-6xl font-bold select-none dashboard-card-value text-gray-900" id="total-pedidos">{{ total_pedidos_count }}</p>
        </div>

        <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-8 flex flex-col items-center justify-center min-w-[280px] hover-scale-105 active-scale-95" data-tooltip="Pedidos aguardando conclusão">
            <p class="text-sm uppercase tracking-wide font-semibold mb-3 dashboard-card-label text-gray-700">Pedidos em Andamento</p>
            <p class="text-6xl font-bold select-none dashboard-card-value text-gray-900" id="pedidos-em-andamento">{{ em_andamento_count }}</p>
        </div>

        <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-8 flex flex-col items-center justify-center min-w-[280px] hover-scale-105 active-scale-95" data-tooltip="Pedidos finalizados com sucesso">
            <p class="text-sm uppercase tracking-wide font-semibold mb-3 dashboard-card-label text-gray-700">Pedidos Concluídos</p>
            <p class="text-6xl font-bold select-none dashboard-card-value text-gray-900" id="pedidos-concluidos">{{ concluido_count }}</p>
        </div>
    </section>

    <div class="border-t border-gray-300 mb-12 w-full max-w-6xl mx-auto"></div>

    {# Seção de Status do Pedido Pendente #}
    <section aria-label="Status do Pedido Pendente" class="max-w-6xl mx-auto mb-16">
        <div id="pending-order-card" class="bg-white rounded-xl shadow-lg border border-gray-200 p-8 flex flex-col items-center justify-center min-w-[280px] hover-scale-105 active-scale-95 transition-colors duration-300
            {% if pedido_pendente %}
                bg-red-50 border-red-300
            {% else %}
                bg-green-50 border-green-300
            {% endif %}"
            data-tooltip="Verifica se há um pedido aguardando processamento">
            
            {% if pedido_pendente %}
                <p class="text-sm uppercase tracking-wide font-semibold mb-3 dashboard-card-label text-red-700">Pedido Pendente</p>
                <p class="text-6xl font-bold select-none dashboard-card-value text-red-600 mb-4" id="pending-order-id">#{{ pedido_pendente.id }}</p>
            {% else %}
                <p class="text-sm uppercase tracking-wide font-semibold mb-3 dashboard-card-label text-green-700">Pedido Pendente</p>
                <p class="text-5xl font-bold select-none dashboard-card-value text-green-600 mb-4" id="pending-order-id">Nenhum</p>
                <p class="mt-2 text-gray-500">Tudo em ordem!</p>
            {% endif %}
        </div>
    </section>

</main>

{% endblock %} {# Fim do bloco de conteúdo #}